Generate subtasks for the following task.
Each subtask must be independently implementable. Include title,
description, task_type, and priority. Cover the full scope without
overlap.
If a plan is provided, decompose it into ordered subtasks and specify
depends_on indices for tasks that must complete before others can start.